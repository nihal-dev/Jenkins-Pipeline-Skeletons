pipeline{
    agent any
    stages{
        stage('Clone Repository'){
            steps{
                git branch: 'main', changelog: false, poll: false, url: 'https://github.com/nihal-dev/argocd-practise.git'
            }
        }

        stage('check the pwd'){
            steps{
                sh "pwd"
            }
        }

        stage('Display file contents'){
            parallel{
                stage('Display deployment file'){
                    steps{
                        sh "cat yaml/nginx-deploy.yaml"
                    }
                }

                stage('Display service file'){
                    steps{
                        sh "cat yaml/nginx-service.yaml"
                        sh "sleep 20s"
                    }
                }
            }
        }

        stage('Display Bye message'){
            steps{
                echo "Bye"
            }
        }
    }
}